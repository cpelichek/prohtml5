<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Sample</title>
    <script type="text/javascript">
        // This function will be called once the page loads completely
        function pageLoaded() {
            // Get a handle to the canvas object
            var canvas = document.getElementById("testcanvas");

            // Get the 2d context for this canvas
            var context = canvas.getContext("2d");

            var pi = Math.PI

            // FILLED RECTANGLES
            // Draw a solid square
            // context.fillRect(200, 10, 100, 100);
            // Draw another solid square
            // context.fillRect(50, 70, 90, 30);

            // STROKED RECTANGLES
            // Draw a rectangular outline
            // context.strokeRect(110, 10, 50, 50);
            // Draw another rectangular outline
            // context.strokeRect(30, 10, 70, 70);

            // CLEARING RECTANGLES
            // Clear a rectangle
            // context.clearRect(210, 20, 30, 20);
            // Clear another rectangle
            // context.clearRect(260, 20, 20, 30);

            // DRAWING COMPLEX SHAPES
            // Draw a filled triangle
            // context.beginPath();
            // context.moveTo(10, 120);
            // context.lineTo(10, 180);
            // context.lineTo(110, 150);
            // context.fill();

            // Draw a stroked triangle
            // context.beginPath()
            // context.moveTo(140, 160)
            // context.lineTo(140, 220)
            // context.lineTo(40, 190)
            // context.closePath()
            // context.stroke()

            // Draw a more complex set of lines
            // context.beginPath()
            // context.moveTo(160, 160)
            // context.lineTo(170, 220)
            // context.lineTo(240, 210)
            // context.lineTo(260,170)
            // context.lineTo(190, 140)
            // context.closePath()
            // context.stroke()

            // DRAWING ARCS & CIRCLES
            // Draw a semicircle
            // context.beginPath()
            // context.arc(400, 50, 40, 0, Math.PI, true)
            // context.stroke()

            // Draw a full circle
            // context.beginPath()
            // context.arc(500, 50, 30, 0, 2*Math.PI, true)
            // context.fill()

            // Draw a three-quarter arc
            // context.beginPath()
            // context.arc(400, 100, 25, 0, 3/2 * Math.PI, false)
            // context.stroke()

            // DRAWING TEXT
            // context.fillText("Algum texto", 330, 40)

            // Modify font
            // context.font = "10pt Arial";
            // context.fillText("Algum texto em Arial 10pt", 330, 60)

            // Draw stroked text
            // context.font = "16pt Arial"
            // context.strokeText("Algum texto em Arial 16pt", 330, 80)

            // FILL STYLES AND COLORS
            // Set fill color to red
            // context.fillStyle = "red"
            // context.fillRect(310, 160, 100, 50)

            // Set stroke color to green
            // context.strokeStyle = "rgb(0, 255, 0)"
            // context.strokeRect(310, 240, 100, 50, 0.5)

            // TEXTURES
            // var fireImage = document.getElementById("fire")
            // var pattern = context.createPattern(fireImage, "repeat")
            // context.fillStyle = pattern
            // context.fillRect(120, 240, 300, 300)

            // DRAWING IMAGES
            // Get a handle to the Image object
            var image = document.getElementById('spaceship')
            context.drawImage(image, 0, 350)
            context.drawImage(image, 0, 400, 100, 25)
            context.drawImage(image, 0, 0, 60, 50, 0, 420, 60, 50)

            // Lembre sempre de, após transformar e desenhar uma imagem, restaurá-la ao seu estado original
            context.translate(250, 370)
            context.rotate(pi/3)
            context.drawImage(image, 0, 0, 60, 50, -30, -25, 60, 50)
            context.rotate(-pi/3)
            context.translate(-240, -370)

            context.translate(300, 370)
            context.rotate(3*pi/4)
            context.drawImage(image, 0, 0, 60, 50, -30, -25, 60, 50)
            context.rotate(-3*pi/4)
            context.translate(-300, -370)

            // Create a new Audio object
            var sound = new Audio()

            // Select the source of the sound after checking what type of audio the current browser can play
            var audio = document.createElement("audio")
            var mp3Support, oggSupport

            if (audio.canPlayType) {
                mp3Support = "" !== audio.canPlayType("audio/mpeg")
                oggSupport = "" !== audio.canPlayType("audio/ogg; codecs=\"vorbis\"")
            } else {
                mp3Support = false
                oggSupport = false
            }

            var soundFileExtn = oggSupport ? ".ogg" : mp3Support ? ".mp3" : undefined

            // if (soundFileExtn) {
            //     var sound = new Audio()
            //     sound.src = "music" + soundFileExtn
            //     sound.play()
            // }

            if (soundFileExtn) {
                var sound = new Audio()
                sound.addEventListener("canplaythrough", function() {
                    sound.play()
                })
                sound.src = "music" + soundFileExtn
            }
        }

        // Loading imgs
        // image.onload = function() {
        //     alert("Imagem terminou de carregar!")
        // }

        // Loading ims 2
        // var imageLoader = {
        //     loaded: true,
        //     loadedImages: 0,
        //     totalImages: 0,
        //     load: function(url) {
        //         this.totalImages++
        //         this.loaded = false
        //         var image = new Image()
        //         image.src = url
        //         image.onload = function() {
        //             imageLoader.loadedImages++
        //             if (imageLoader.loadedImages === imageLoader.totalImages) {
        //                 imageLoader.loaded = true
        //             }
        //             image.onload = undefined
        //         }
        //         return image
        //     }
        // }

        // Drawing an image loaded individually (not recomended)
        // First: (load individual images and store in a big array)
        // Three arguments: the element, and destination (x, y) coordinates
        // var image = imageArray[imageNumber]
        // context.drawImage(image, x, y)

        // Drawing an imagem loaded in a sprite sheet
        // First: (load single sprite sheet image)
        // Nine arguments: the element, source(x, y) coordinates,
        // source width and height (for cropping), 
        // destination (x, y) coordinates, and destination width and height (resize)
        // context.drawImage (this.spriteImage, this.imageWidth*(imageNumber), 0, this.imageWidth, this.imageHeight, x, y, this.imageWidth, this.imageHeight)
        

    </script>
</head>

<body onload="pageLoaded();">
    <canvas width="640" height="480" id="testcanvas" style="border: 1px solid black;">
        Your browser does not support HTML5 Canvas. Please shift to a newer browser.
    </canvas>
    <br>
    <img src="spaceship.png" id="spaceship">
    <br>
    <img src="fire.png" id="fire">
    <br>
    <audio src="music.mp3" controls="controls">
        Your browser does not support HTML5 Audio. Please shift to a newer browser.
    </audio>
    <br>
    <audio controls="controls">
        <source src="music.ogg" type="audio/ogg" />
        <source src="music.mp3" type="audio/mpeg" />
        Your browser does not support HTML5 Audio. Please shift to a newer browser.
    </audio>

</body>

</html>